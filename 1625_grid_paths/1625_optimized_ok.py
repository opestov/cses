inp = input()
moves, ll, rr = [], -1, -1
for i in range(48):
    y = "LURD?".index(inp[i])
    moves.append(y)
    if y != 4:
        rr = i
        if ll == -1: ll = i

if ll != -1 and ll > len(moves) - 1 - rr:
    moves.reverse()
    for i in range(len(moves)):
        if moves[i] == 0 or moves[i] == 2:
            moves[i] = 2 - moves[i]
moves = tuple(moves)

b2 = 0
for i in range(len(moves)):
    if moves[i] != 4: b2 |= 1 << i

masks = (
    0, 0, 258, 384, 129, 0, 516, 896, 258, 0, 1032, 1792, 516, 0, 2064, 3584,
    1032, 0, 4128, 7168, 2064, 0, 8256, 14336, 4128, 0, 0, 12288, 0, 3, 33026,
    49152, 16513, 7, 66052, 114688, 33026, 14, 132104, 229376, 66052, 28,
    264208, 458752, 132104, 56, 528416, 917504, 264208, 112, 1056832, 1835008,
    528416, 96, 0, 1572864, 0, 384, 4227328, 6291456, 2113664, 896, 8454656,
    14680064, 4227328, 1792, 16909312, 29360128, 8454656, 3584, 33818624,
    58720256, 16909312, 7168, 67637248, 117440512, 33818624, 14336, 135274496,
    234881024, 67637248, 12288, 0, 201326592, 0, 49152, 541097984, 805306368,
    270548992, 114688, 1082195968, 1879048192, 541097984, 229376, 2164391936,
    3758096384, 1082195968, 458752, 4328783872, 7516192768, 2164391936, 917504,
    8657567744, 15032385536, 4328783872, 1835008, 17315135488, 30064771072,
    8657567744, 1572864, 0, 25769803776, 0, 6291456, 69260541952, 103079215104,
    34630270976, 14680064, 138521083904, 240518168576, 69260541952, 29360128,
    277042167808, 481036337152, 138521083904, 58720256, 554084335616,
    962072674304, 277042167808, 117440512, 1108168671232, 1924145348608,
    554084335616, 234881024, 2216337342464, 3848290697216, 1108168671232,
    201326592, 0, 3298534883328, 0, 805306368, 8865349369856, 13194139533312,
    4432674684928, 1879048192, 17730698739712, 30786325577728, 8865349369856,
    3758096384, 35461397479424, 61572651155456, 17730698739712, 7516192768,
    70922794958848, 123145302310912, 35461397479424, 15032385536,
    141845589917696, 246290604621824, 70922794958848, 30064771072,
    283691179835392, 492581209243648, 141845589917696, 25769803776, 0,
    422212465065984, 0, 103079215104, 8864812498944, 0, 4432406249472,
    240518168576, 17729624997888, 0, 8864812498944, 481036337152,
    35459249995776, 0, 17729624997888, 962072674304, 70918499991552, 0,
    35459249995776, 1924145348608, 141836999983104, 0, 70918499991552,
    3848290697216, 283673999966208, 0, 141836999983104, 3298534883328, 0, 0)

k = 0
f = 1

s, i = [0] * 49, 0
while i >= 0:
    x = s[i]
    p = x >> 3
    z = x & 7
    if z == 4:
        f ^= 1 << p
        i -= 1
        continue
    s[i] += 1

    if b2 & (1 << i):
        if z != moves[i]: continue
    if masks[4 * p + z] == 0: continue
    p1 = p + (-1, -7, 1, 7)[z]

    if f & (1 << p1): continue
    if p1 == 42:
        if i == 47: k += 1
        continue

    fm = masks[4 * p1 + z]
    if (fm == 0 or (f & fm)):
        lm = masks[4 * p1 + ((z - 1) & 3)]
        if (f & lm) != lm:
            rm = masks[4 * p1 + ((z + 1) & 3)]
            if (f & rm) != rm:
                continue

    i += 1
    s[i] = p1 << 3
    f ^= 1 << p1

print(k)
